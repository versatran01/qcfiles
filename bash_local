# improve history, ignore meaningless command
export HISTIGNORE="&:ls:cd:[bf]g:exit:?:??:??:rm*"
export HISTTIMEFORMAT="%y/%m/%d %T"
export HISTCONTROL=ignoreboth:erasedups
export HISTSIZE=20000
export HISTFILESIZE=20000

# More shopt # Autocorrect fudged paths in cd calls shopt -s cdspell
# Update the hash table properly
shopt -s checkhash
# Update columns and rows if window size changes
shopt -s checkwinsize
# Put multi-line commands onto one line of history
shopt -s cmdhist
# Include dotfiles in pattern matching
shopt -s dotglob
# Enable advanced pattern matching
shopt -s extglob
# Append rather than overwrite Bash history
shopt -s histappend
# Don't use Bash's builtin host completion
shopt -u hostcomplete
# Ignore me if I try to complete an empty line
shopt -s no_empty_cmd_completion
# Use programmable completion, if available
shopt -s progcomp
# Warn me if I try to shift when there's nothing there
shopt -s shift_verbose

# autojump
if [ -f /usr/share/autojump/autojump.sh ]; then
  source /usr/share/autojump/autojump.sh
else
  [[ -s /etc/profile.d/autojump.bash ]] && . /etc/profile.d/autojump.bash
fi

if [ -f ~/.bcd/cd ]; then
  source ~/.bcd/cd
  source ~/.bcd/cd-traverse
  source ~/.bcd/cd-history
fi

# 256 for terminal
export TERM=xterm-256color

# source inputrc
export INPUTRC=~/.inputrc

# powerline-shell
function _update_ps1() {
    PS1=$(powerline-shell $?)
}

if [[ $TERM != linux && ! $PROMPT_COMMAND =~ _update_ps1 ]]; then
    PROMPT_COMMAND="_update_ps1; $PROMPT_COMMAND"
fi


# Less Colors for Man Pages
export LESS_TERMCAP_mb=$'\E[01;31m'       # begin blinking
export LESS_TERMCAP_md=$'\E[01;32m'       # begin bold
export LESS_TERMCAP_so=$'\E[01;44m'       # begin standout-mode - info box
export LESS_TERMCAP_us=$'\E[01;33m'       # begin underline
export LESS_TERMCAP_me=$'\E[0m'           # end mode
export LESS_TERMCAP_se=$'\E[0m'           # end standout-mode
export LESS_TERMCAP_ue=$'\E[0m'           # end underline

export ROSWS_HOME_DIR="/home/chao/Workspace/ws"

# Functions definitions.
# You may want to put all your funtions into a separate file like
# ~/.bash_functions, instead of adding them here directly.
# See /usr/share/doc/bash-doc/examples in the bash-doc package.

if [ -f ~/.bash_functions ]; then
    . ~/.bash_functions
fi

# export FZF_DEFAULT_COMMAND='fd --type f'
# export FZF_DEFAULT_COMMAND='rg --files --no-ignore-vcs --hidden'
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
export CUDA_VISIBLE_DEVICES=0
VISUAL=vim; export VISUAL EDITOR=vim; export EDITOR
